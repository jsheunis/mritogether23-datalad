<!doctype html>
<html lang="en">
<head>
  <title> Research Data Management with DataLad </title>
  <meta name="description" content=" RDM with DataLad ">
  <meta name="author" content=" Stephan Heunis ">

  <meta charset="utf-8">
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="reveal.js/dist/reset.css">
  <link rel="stylesheet" href="reveal.js/dist/reveal.css">
  <link rel="stylesheet" href="reveal.js/dist/theme/beige.css">
  <!-- Theme used for syntax highlighted code -->
  <link rel="stylesheet" href="reveal.js/plugin/highlight/monokai.css">
  <link rel="stylesheet" href="custom_styles.css">
</head>
<body>

<div class="reveal">
<div class="slides">

<!-- FRONT PAGE -->
<section>
    <h2>Research Data Management with DataLad</h2>
    <h4>Talk @ MRI Together 2023</h4>
    <img src="pics/datalad_git.svg" style="height:300px; margin-bottom: 0; padding-bottom: 0;" alt="title image">
    <div style="margin-top:0.5em;">
        <table style="border: none;">
            <tr>
                <td>Stephan Heunis<br>
                    <small>
                        <a href="https://mas.to/@jsheunis" target="_blank">
                        <img data-src="pics/mastodon.svg" style="height:30px;margin:0px" />
                        @jsheunis
                        </a>
                    </small>
                    <small>
                        <a href="https://github.com/jsheunis" target="_blank">
                        <img data-src="pics/GitHub.png" style="height:30px;margin:0px" />
                        jsheunis
                        </a>
                    </small>
                </td>
                <td style="text-align: center;">
                    <img style="height:80px;margin-right:1px;margin-bottom:5px;margin-top: 1em; vertical-align:middle;" data-src="pics/fzj_logo.svg" />
                </td>
            </tr>
        </table>
    </div>
    <p style="text-align: center;">
        <small><a href="http://psychoinformatics.de" target="_blank">Psychoinformatics lab</a>,
            Institute of Neuroscience and Medicine, Brain &amp; Behavior (INM-7)<br>Research Center Jülich, Germany
            <br>
        </small>
    </p>
    <div>
        <small>Slides:&nbsp;</small>
        <br><a href="https://jsheunis.github.io/mritogether23-datalad">jsheunis.github.io/mritogether23-datalad</a>
    </div>
</section>


<section>
    <h2>What is a DataLad?</h2>

    <br>
    <ul>
        <li class="fragment">A free and open source tool</li>
        <li class="fragment">for decentralized (research) data management</li>
        <li class="fragment">with a command line interface, Python API, and a GUI (pre-alpha)</li>
        <li class="fragment">allowing exhaustive tracking of the evolution of digital objects</li>
        <li class="fragment">and computational provenance tracking</li>
        <li class="fragment">to enhance modularity, portability and reproducibility.</li>
    </ul>
    <br>
    <br>
    <div class="fragment">

    <a href="http://datalad.org"><img style="height:300px" data-src="pics/datalad_logo_wide.svg" /></a>
    <br>

    Let's explore this...</div>
    
</section>


<section>
    <h2>Everything should be FAIR...</h2>
    <ul style="list-style-type:none">
      <li><h2 style="display:inline">F</h2>indable</li>
      <li><h2 style="display:inline">A</h2>ccessible</li>
      <li><h2 style="display:inline">I</h2>nteroperable</li>
      <li><h2 style="display:inline">R</h2>eusable</li>
    </ul>
    <br><br>
    <note><small><a href="https://www.go-fair.org/fair-principles">https://www.go-fair.org/fair-principles</a></small></note>
    <small><small>Wilkinson et al. The FAIR Guiding Principles for scientific data management
      and stewardship. Sci Data 3, 160018 (2016). https://doi.org/10.1038/sdata.2016.18</small></small>
      <br><br>
      
</section>

<section>
    <h2>But what does FAIR really mean, practically?</h2>

    <ul>
      <li>Bench/bed/field-side researchers are an essential source of<br> <strong>valid</strong> metadata, critical for FAIR data</li>
      <li>Their <strong>resources are limited</strong>, and they need something in exchange, otherwise FAIR won't happen</li>
    </ul>

    <br><br>

    <em><strong>
    Why not focus on <strong>enabling practical collaboration</strong><br> (even if just with one's future self)?<br></strong></em>
    

    <br><br>
    <em><strong>
    Why not make the aspirational goal "FAIR data" <br>a by-product of enabling efficient research?
      </strong></em>
</section>

<section>
    <h2>The DataLad approach</h2>
    V.A.M.P. (practical) vs F.A.I.R. (aspirational)
    <br>
    <img src="pics/Vamp-The_Rich_Dont_Rock.jpg" alt="" height="600px">
    <br>
    <small><imgcredit>Divebomb Records</imgcredit></small>
</section>
  
<section>
<h2>Be FAIR and immediately benefit from it <em>yourself</em>...</h2>
...while still working towards <em>the greater good</em> of FAIR data
<ul style="list-style-type:none">
    <li><h1 style="display:inline">V</h1>ersion-controlled</li>
    <li><h1 style="display:inline">A</h1>ctionable metadata</li>
    <li><h1 style="display:inline">M</h1>odular</li>
    <li><h1 style="display:inline">P</h1>ortable</li>
</ul>
</section>

<section>
    <!-- the team -->
    <h2>Let's look at an example:</h2>
    <br>
    <img src="pics/comic_box1.svg" alt="">
</section>

<section>
    <!-- the challenge -->
    <br>
    <img src="pics/comic_box2.svg" alt="">
</section>

<section>
    <h2>they install datalad...</h2>
    <img src="pics/comic_box3.svg" alt="">
</section>

<section>
    <!-- the datalad dataset -->
    <br>
    <img src="pics/comic_box4.svg" alt="">
</section>

      <section data-markdown><script type="text/template">
        ## What is a DataLad dataset?
    
        - a regular, but *managed* directory on computer file system
          <small>think: provides the familiar look and feel of files and folders</small>
        
        - **metadata** on the evolution of a collection of files:<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;> content identity <em>(think: checksums)</em><br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;> content availability <em>(think: URLs)</em><br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;> provenance of change <em>(think: who did what when?)</em>
        
        - a **Git** repository <br>
          <small>think: compatible with anything that can handle Git repositories</small>
        
        - employs **git-annex** for file content tracking and transport
          <small>think: supports any storage service and transport protocol supported by git-annex</small>
        
        - extends both Git and git-annex with additional features and infrastructure support <br>
          <small>think: deposit and retrieve from non-Git-aware sites</small>
        </script></section>
      
      <section>
        <!-- version control with git -->
        <br>
        <img src="pics/comic_box5.svg" alt="">
      </section>
      
      <section>
        <h3>Data publishing</h3>
        <img src="pics/comic_box6_publishing.svg" alt="">
      </section>

      <section>
        <h3>Data consumption</h3>
        <img src="pics/comic_box6_consumption.svg" alt="">
      </section>
      
      <section>
        <!-- dependencies and provenance -->
        <br>
        <img src="pics/comic_box7.svg" alt="">
      </section>
      
      <section>
        <!-- rerun and reproduce -->
        <br>
        <img src="pics/comic_box8.svg" alt="">
      </section>
      
      <section>
        <!-- integrate and extend -->
        <br>
        <img src="pics/comic_box9.svg" alt="">
      </section>
</section>


<section>
    <section>
        <br><br>
        <h2><code>Use cases</code></h2>
    </section>

    <section>
        <h2>(Meta)data deposition (on Dataverses)</h2>
        <img src="pics/dataverse_demo_deposit.png" alt="" width="60%">
        <small>
        <ul>
            <li>Register any dataset at any Dataverse site (e.g. <a href="https://data.fz-juelich.de/">Jülich DATA</a>), receive citable DOI</li>
            <li>No requirement to re-host data (avoids duplication of storage cost)</li>
            <li>Data owner remains in full control over data access</li>
            <li>DataLad extension: https://github.com/datalad/datalad-dataverse</li>
        </ul>
    </small>
    </section>
    
    <section data-markdown><script type="text/template">
        ## Remote analysis of clinical data
        ![](pics/datalad_hospital.png)
        </script></section>
    
    <section data-markdown><script type="text/template">
        ## When everything is tracked: A reproducible paper
        
        <iframe width="1120" height="630" src="https://www.youtube-nocookie.com/embed/nhLqmF58SLQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        
        - Peer-reviewed paper published in Behavior Research Methods [[DOI 10.3758/s13428-020-01428-x](https://doi.org/10.3758/s13428-020-01428-x)]<!-- .element: style="font-size:70%" -->
        
        - Free to reproduce at https://github.com/psychoinformatics-de/paper-remodnav more details in the DataLad handbook
            http://handbook.datalad.org/r.html?reproducible-paper.
        
        - Full video: https://youtube.com/datalad
        
        <!-- .element: style="font-size:70%" -->
        Note:
        - VERY useful prior publication
        </script></section>

    <section data-markdown><script type="text/template">
        ## DataLad catalog extension
        ![](pics/datalad_catalog.png)<!-- .element: width="75%" style="margin-top:-20px" -->
        
        zero-cost reporting, presentation, collaboration
        
        e.g. [SFB1451 Catalog](https://psychoinformatics-de.github.io/sfb1451-projects-catalog/)
        </script></section>

    
    <section data-markdown><script type="text/template">
        ![](pics/fairlybig_paper.png)<!-- .element: width="90%" -->
        https://www.nature.com/articles/s41597-022-01163-2
        </script></section>


        <section data-markdown><script type="text/template">
        ## FAIRly big: Process the UK Biobank (imaging data)
        ![](pics/biobank_website.png)<!-- .element: height="400" -->
        
        - 76 TB in 43 million files in total
        - 42,715 participants contributed personal health data
        - Strict DUA
        - Custom binary-only downloader
        - Most data records offered as (unversioned) ZIP files
        </script></section>
        
        <section data-markdown><script type="text/template">
        ## Challenges
        
        - Process data such that
            - Results are computationally reproducible (without the original compute infrastructure)
            - There is complete linkage from results to an individual data record dowload
            - It scales with the amount of available compute resources
        
        - Data processing pipeline
            - Compiled MATLAB blob
            - 1h processing time per image, with 41k images to process
            - 1.2 M output files (30 output files per input file)
            - 1.2 TB total size of outputs
        </script></section>
        
        
        <section data-markdown><script type="text/template">
        ## FAIRly big results
        
        <iframe width="1120" height="630" src="https://www.youtube-nocookie.com/embed/UsW6xN2f2jc?start=17" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        
        - Rendered from provenance records, automatically captured in the output dataset. Full video: https://youtube.com/datalad
        - Two full (re-)computations, programmatically comparable, verifiable, reproducible -- on any system with data access
        </script></section>
        
        <section data-markdown><script type="text/template">
        ## FAIRly big setup
        ![](pics/fairlybig_ukbsetup.png)<!-- .element: width="1200" style="margin-top:-35px;margin-bottom:-30px" -->
        
        - UKB DataLad extension can track the evolution of the complete data release in DataLad datasets
        <!-- .element: style="font-size:80%" -->
        - Full version history
        <!-- .element: style="font-size:80%" -->
        - Native and BIDSified data layout
        <!-- .element: style="font-size:80%" -->
        
        <note>Wagner, Waite, Wierzba, Hoffstaedter, Waite, Poldrack, Eickhoff, Hanke (2021). FAIRly big: A framework for computationally reproducible processing of large-scale data.</note>
        </script></section>
        
        <section data-markdown><script type="text/template">
        ## FAIRly big workflow
        ![](pics/fairlybig_workflow.png)<!-- .element: width="1200" style="margin-top:-35px;margin-bottom:-30px" -->
        - Common data representation in secure environments
        - Content-agnostic persistent (encrypted) storage
        - All computations in freshly bootstrapped emphemeral environments, only using information from a fully self-contained  DataLad dataset
        <note>Wagner et al. (2021). FAIRly big: A framework for computationally reproducible processing of large-scale data.</note>
        </script></section>
        
        <section data-markdown><script type="text/template">
        ## FAIRly big provenance capture
        ![](pics/fairlybig_prov.png)<!-- .element: width="1200" style="margin-top:-35px;margin-bottom:-30px" -->
        
        - Every single pipeline execution is tracked
        - Each execution individually reproducible without HPC access
        <note>Wagner et al. (2021). FAIRly big: A framework for computationally reproducible processing of large-scale data.</note>
        </script></section>
    
</section>


    
<section>
    <section>
        <br><br>
        <h2><code>DataLad contact and more information</code></h2>
    </section>
    <section>
        <img src="https://distribits.live/pics/distribits_logo_a.svg" alt="" width="90%">
        <br><br>
        <a href="https://distribits.live">distribits 2024</a> 
        <h4>4-6 April 2024</h4>
        <br><br>
        <em>
            The first distribits meeting will happen in 2024, and we are inviting all interested parties to join! The aim of this meeting is to bring together enthusiasts of tools and workflows in the domain of distributed data. It is organized by the people behind the git-annex and DataLad projects. The event will comprise a two-day conference and an additional hackathon day.
        </em>
        
    </section>
    <section>
        <br><br>
        <table>
        <tr><td>Website + Demos</td>
        <td><a href="http://datalad.org">http://datalad.org</a></td>
        </tr><tr><td>Documentation</td>
        <td><a href="http://handbook.datalad.org">http://handbook.datalad.org</a></td>
        </tr><tr><td>Talks and tutorials</td>
        <td><a href="https://youtube.com/datalad">https://youtube.com/datalad</a></td>
        </tr><tr><td>Development</td>
        <td><a href="http://github.com/datalad">http://github.com/datalad</a></td>
        </tr><tr><td>Support</td>
        <td><a href="https://matrix.to/#/#datalad:matrix.org">https://matrix.to/#/#datalad:matrix.org</a></td>
        </tr><tr><td>Office hour</td>
        <td>Tuesdays @ 16h CE(S)T<br><a href="https://matrix.to/#/!NaMjKIhMXhSicFdxAj:matrix.org">https://matrix.to/#/!NaMjKIhMXhSicFdxAj:matrix.org</a></td>
        </tr><tr><td>Open data</td>
        <td><a href="http://datasets.datalad.org">http://datasets.datalad.org</a></td>

        </tr>
        </tr><tr><td>Mastodon</td>
        <td>@datalad@fosstodon.org</td>
        </tr><tr><td>Twitter</td>
        <td>@datalad</td>
        </table>
        <br>
        
    </section>
</section>









</div> <!-- /.slides -->
</div> <!-- /.reveal -->

<script src="reveal.js/dist/reveal.js"></script>
<script src="reveal.js/plugin/notes/notes.js"></script>
<script src="reveal.js/plugin/markdown/markdown.js"></script>
<script src="reveal.js/plugin/highlight/highlight.js"></script>
<script src="custom_functions.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>
<script src="reveal.js/plugin/copycode/copycode.js"></script> -->
<script>
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
        hash: true,
        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,
        height: 960,
        // Factor of the display size that should remain empty around the content
        margin: 0.02,
        // Bounds for smallest/largest possible scale to apply to content
        minScale: 0.2,
        maxScale: 1.0,

        controls: true,
        progress: true,
        history: true,
        center: false,
        slideNumber: 'c',
        pdfSeparateFragments: false,
        pdfMaxPagesPerSlide: 1,
        pdfPageHeightOffset: -1,
        transition: 'slide', // none/fade/slide/convex/concave/zoom
        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
    });
</script>
</body>
</html>